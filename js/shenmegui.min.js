(function(window){"use strict";var shenmegui={startJoke:function(arr,min,max){if(!arr||!arr.length)return;if(!min||min<1e3)min=1e3;if(!max)max=3e4;if(min>max){min=1e3;max=3e4}this.soundArr=[];for(var i=0;i<arr.length;i++){if(arr[i].toUpperCase()==="QQ"){this._jokeQQ()}else if(arr[i].toUpperCase()==="WEIBO"){this._jokeWeibo()}}this._loopJoke(min,max)},stopJoke:function(){clearTimeout(this.jokeTimeout)},addJoke:function(path,id){if(!path)return;var sound=document.createElement("audio");if(id)sound.id=id;sound.src=path;document.body.appendChild(sound);this.soundArr.push(sound)},_jokeQQ:function(soundArr){this.soundArr.push(this._createSound("qqMsg"));this.soundArr.push(this._createSound("qqSys"))},_jokeWeibo:function(soundArr){this.soundArr.push(this._createSound("weiboMsg"));this.soundArr.push(this._createSound("weiboPhone"))},_createSound:function(id){var sound=document.createElement("audio");sound.id=id;sound.src="./sou/"+id+".mp3";document.body.appendChild(sound);return sound},_loopJoke:function(min,max){var time=Math.random()*(max-min)+min;var that=this;this.jokeTimeout=setTimeout(function(){that.soundArr[Math.floor(Math.random()*that.soundArr.length)].play();return that._loopJoke(min,max)},time)}};if(typeof define==="function"&&define.amd){define(function(){return shenmegui})}else{window.shenmegui=shenmegui}})(window);